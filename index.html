
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    
    <!-- Pi Browser Mobile Optimizations -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://sdk.minepi.com https://cdn.gpteng.co https://vercel.live https://api.qrserver.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https: https://api.qrserver.com https://i.ytimg.com https://yt3.ggpht.com; frame-src 'self' https://www.youtube-nocookie.com https://www.youtube.com https://sandbox.minepi.com https://minepi.com https://app-cdn.minepi.com; connect-src 'self' https://sdk.minepi.com https://*.supabase.co https://api.minepi.com https://api.testnet.minepi.com https://api.pwnedpasswords.com https://sandbox.minepi.com https://minepi.com https://app-cdn.minepi.com https://socialchain.app https://*.socialchain.app https://api.qrserver.com https://www.youtube.com https://www.youtube-nocookie.com https://linkrme.com https://*.linkrme.com; media-src 'self' https: https://www.youtube.com https://www.youtube-nocookie.com; worker-src 'self' blob:;">
    
    <!-- Permissions Policy -->
    <meta http-equiv="Permissions-Policy" content="autoplay=(), encrypted-media=(), fullscreen=(), accelerometer=(), gyroscope=(), web-share=(), camera=(), microphone=(), geolocation=()">
    
    <!-- Primary Meta Tags -->
    <title>Droplink | Drop All Your Links</title>
    <meta name="title" content="Droplink | Drop All Your Links" />
    <meta name="description" content="Droplink helps Pi Network creators, entrepreneurs, influencers, and developers monetize and manage their digital presence using Pi tips, Pi Ads, and .pi domains.">
    <meta name="keywords" content="Droplink, Pi Network, link-in-bio, creators, Pi payments, Pi Ads, .pi domains">
    <meta name="author" content="Droplink Team" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://droplink.space/" />
    
    
    <meta property="og:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/Ot592dcwXNQsilW0ISxGOUOnZQk2/social-images/social-1762267332496-T= (1).png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://droplink.space/" />
    <meta property="twitter:title" content="Droplink | Drop All Your Links" />
    <meta property="twitter:description" content="Droplink helps Pi Network creators, entrepreneurs, influencers, and developers monetize and manage their digital presence using Pi tips, Pi Ads, and .pi domains." />
    <meta property="twitter:image" content="https://droplink.space/assets/droplink-preview.png" />
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#0ea5e9">
    
    <!-- Pi Network App Manifest -->
    <link rel="manifest" href="/pi-app-manifest.json">
    
    <!-- Modern Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Sora:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Pi Browser Mobile Optimization Scripts - Enhanced with New API Key -->
    <script>
      // Pi Browser Mobile Optimizations - Enhanced White Screen Prevention with New API Key
      (function() {
            // Get current domain for domain-specific fixes
            const currentDomain = window.location.hostname;
            console.log('üåê Current domain:', currentDomain);
            
            // Detect Pi Browser mobile
            const isPiMobile = /pibrowser|pi network|pi-browser/i.test(navigator.userAgent) && 
                              /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            // Detect Pi Browser
            const isPiBrowser = /pibrowser|pi network|pi-browser/i.test(navigator.userAgent) || 
                               currentDomain.includes('pinet.com') || 
                               currentDomain.includes('minepi.com');
            
            // Check if we're on droplink.space or droplink2920.pinet.com
            const isDroplinkDomain = currentDomain.includes('droplink.space') || 
                                   currentDomain.includes('droplink2920.pinet.com');
            
            console.log('üåê Droplink Domain Check:', { isDroplinkDomain, domain: currentDomain });
            
            // Immediate domain validation bypass for Pi Browser
            if (isPiBrowser && isDroplinkDomain) {
              console.log('üöÄ Pi Browser + Droplink domain detected - applying immediate fixes');
              console.log('‚úÖ Bypassing domain validation for Pi Browser');
            }
            
            console.log('üîç Browser Detection:', { isPiBrowser, isPiMobile, domain: currentDomain });
        
         // Use login page background to prevent white flash
         if (document.documentElement) {
           document.documentElement.style.backgroundColor = '#ffffff';
           document.documentElement.style.background = 'linear-gradient(135deg, #eff6ff 0%, #ffffff 50%, #e0e7ff 100%)';
           document.documentElement.style.minHeight = '100vh';
         }
         if (document.body) {
           document.body.style.backgroundColor = '#ffffff';
           document.body.style.background = 'linear-gradient(135deg, #eff6ff 0%, #ffffff 50%, #e0e7ff 100%)';
           document.body.style.margin = '0';
           document.body.style.padding = '0';
           document.body.style.minHeight = '100vh';
         }
        
        if (isPiMobile) {
          console.log('Pi Browser mobile detected - applying enhanced optimizations');
          
          // Enhanced white screen prevention with new API key integration
          const preventWhiteScreen = () => {
             // Use login page background to prevent white flash
             if (document.documentElement) {
               document.documentElement.style.backgroundColor = '#ffffff';
               document.documentElement.style.background = 'linear-gradient(135deg, #eff6ff 0%, #ffffff 50%, #e0e7ff 100%)';
             }
             if (document.body) {
               document.body.style.backgroundColor = '#ffffff';
               document.body.style.background = 'linear-gradient(135deg, #eff6ff 0%, #ffffff 50%, #e0e7ff 100%)';
             }
            
            // Add enhanced loading indicator with new API key theme
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'pi-mobile-loading';
            loadingDiv.style.cssText = `
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
               background: linear-gradient(135deg, #eff6ff 0%, #ffffff 50%, #e0e7ff 100%);
              display: flex;
              align-items: center;
              justify-content: center;
              z-index: 9999;
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            `;
            loadingDiv.innerHTML = `
              <div style="text-align: center; color: white;">
                <div style="width: 50px; height: 50px; border: 4px solid rgba(255,255,255,0.3); border-top: 4px solid white; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
                <div style="font-size: 20px; font-weight: 600; margin-bottom: 10px;">Loading Droplink</div>
                <div style="font-size: 16px; color: rgba(255,255,255,0.8);">Initializing Pi Network...</div>
                <div style="font-size: 14px; color: rgba(255,255,255,0.6); margin-top: 8px;">Domain: ${currentDomain}</div>
                <div style="font-size: 12px; color: rgba(255,255,255,0.5); margin-top: 4px;">${isDroplinkDomain ? '‚úÖ Droplink Domain Detected' : '‚ö†Ô∏è Unknown Domain'}</div>
                <div style="font-size: 12px; color: rgba(255,255,255,0.5); margin-top: 2px;">Using new mainnet API key</div>
                <div style="font-size: 10px; color: rgba(255,255,255,0.4); margin-top: 4px;">Pi Browser Mobile Optimized</div>
              </div>
              <style>
                @keyframes spin {
                  0% { transform: rotate(0deg); }
                  100% { transform: rotate(360deg); }
                }
              </style>
            `;
            document.body.appendChild(loadingDiv);
          };
          
          // Apply immediately
          preventWhiteScreen();
          
          // Prevent zoom on input focus
          document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
              input.addEventListener('focus', function() {
                const viewport = document.querySelector('meta[name="viewport"]');
                if (viewport) {
                  viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover');
                }
              });
            });
          });
          
          // Visual Viewport API for mobile
          if (window.visualViewport && document.documentElement) {
            function updateViewportHeight() {
              document.documentElement.style.setProperty('--vh', window.visualViewport.height * 0.01 + 'px');
            }
            window.visualViewport.addEventListener('resize', updateViewportHeight);
            updateViewportHeight();
          }
          
          // Enhanced repaint to prevent white screen
          document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
              // Remove loading indicator
              const loadingDiv = document.getElementById('pi-mobile-loading');
              if (loadingDiv) {
                loadingDiv.remove();
              }
              
              // Force repaint
              if (document.body) {
                document.body.style.display = 'none';
                document.body.offsetHeight; // Trigger reflow
                document.body.style.display = '';
              }
              
               // Remove temporary background to let your app colors show
               if (document.documentElement) {
                 document.documentElement.style.backgroundColor = '';
                 document.documentElement.style.background = '';
               }
               if (document.body) {
                 document.body.style.backgroundColor = '';
                 document.body.style.background = '';
               }
            }, 200);
          });
          
          // Additional white screen prevention with new API key
          window.addEventListener('load', function() {
             setTimeout(function() {
               // Remove temporary background to let your app colors show
               if (document.documentElement) {
                 document.documentElement.style.backgroundColor = '';
                 document.documentElement.style.background = '';
               }
               if (document.body) {
                 document.body.style.backgroundColor = '';
                 document.body.style.background = '';
               }
             }, 100);
          });
        } else {
          // For non-Pi browsers, use login page background
          if (document.documentElement) {
            document.documentElement.style.backgroundColor = '#ffffff';
            document.documentElement.style.background = 'linear-gradient(135deg, #eff6ff 0%, #ffffff 50%, #e0e7ff 100%)';
          }
          if (document.body) {
            document.body.style.backgroundColor = '#ffffff';
            document.body.style.background = 'linear-gradient(135deg, #eff6ff 0%, #ffffff 50%, #e0e7ff 100%)';
          }
        }
      })();
    </script>
    
    <!-- Pi Network SDK - Following Official Documentation with New API Key -->
    <!-- Based on: https://github.com/pi-apps/pi-platform-docs.git -->
    <!-- Updated with new mainnet API key: ebm7t8yojn4q0apodezl5byt5e7tmm2asppmqlzjvv8jayyncxjah64iip3yyp5r -->
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <script>
      // Pi SDK initialization following official documentation with new API key
      // Pi.init({ version: "2.0" }) - Enhanced with new mainnet API key
      try {
        if (window.Pi) {
          // Initialize Pi SDK for MAINNET PRODUCTION ONLY
          window.Pi.init({ 
            version: "2.0",
            sandbox: false,
            testnet: false
          });
          console.log('Pi SDK initialized successfully for MAINNET PRODUCTION with new API key');
          console.log('New API Key: ebm7t8yojn4q0apodezl5byt5e7tmm2asppmqlzjvv8jayyncxjah64iip3yyp5r');
          console.log('Environment: MAINNET PRODUCTION - No sandbox or testnet');
        } else {
          console.warn('Pi SDK not available');
        }
      } catch (error) {
        console.warn('Pi SDK initialization error:', error);
      }

      // Handle Pi SDK postMessage CORS errors gracefully
      const originalConsoleError = console.error;
      console.error = function(...args) {
        const message = args.join(' ');
        if (message.includes('postMessage') && 
            (message.includes('app-cdn.minepi.com') || 
             message.includes('target origin') ||
             message.includes('localhost'))) {
          // Suppress Pi SDK CORS warnings for localhost development
          console.log('üîß Suppressed Pi SDK CORS warning for localhost development');
          return;
        }
        originalConsoleError.apply(console, args);
      };

      // Handle postMessage CORS errors gracefully
      window.addEventListener('message', function(event) {
        // Suppress CORS warnings for development
        if (event.origin !== window.location.origin && 
            (event.origin.includes('sandbox.minepi.com') || 
             event.origin.includes('minepi.com') ||
             event.origin.includes('app-cdn.minepi.com'))) {
          // This is expected for Pi Network communication
          console.log('üîß Pi SDK postMessage event handled:', event.origin);
          return;
        }
      });

      // Suppress specific CORS warnings in development
      const originalConsoleWarn = console.warn;
      console.warn = function(...args) {
        const message = args.join(' ');
        if (message.includes('postMessage') && message.includes('target origin')) {
          // Suppress postMessage CORS warnings in development
          return;
        }
        originalConsoleWarn.apply(console, args);
      };
    </script>
    <meta property="og:title" content="Droplink | Drop All Your Links">
  <meta name="twitter:title" content="Droplink | Drop All Your Links">
  <meta property="og:description" content="Droplink helps Pi Network creators, entrepreneurs, influencers, and developers monetize and manage their digital presence using Pi tips, Pi Ads, and .pi domains.">
  <meta name="twitter:description" content="Droplink helps Pi Network creators, entrepreneurs, influencers, and developers monetize and manage their digital presence using Pi tips, Pi Ads, and .pi domains.">
  <meta name="twitter:image" content="https://storage.googleapis.com/gpt-engineer-file-uploads/Ot592dcwXNQsilW0ISxGOUOnZQk2/social-images/social-1762267332496-T= (1).png">
  <meta name="twitter:card" content="summary_large_image">
</head>

  <body>
    <div id="root"></div>
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
